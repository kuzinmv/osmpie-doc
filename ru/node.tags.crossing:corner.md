# crossing:corner — тег для обозначения пешеходного перехода, расположенного близко к сонаправленной проезжей части
 
## Общие сведения

Тег `crossing:corner` вводится, чтобы указать пешеходные переходы, расположенные в непосредственной близости к сонаправленной проезжей части перекрёстка.  Речь идёт о переходах, являющихся продолжением тротуара, либо несущественно отнесенных от проезжей части, вдоль которой идут пешеходы. Зачастую такие переходы начинаются в скруглении, оформляющем соединение сонаправленной проезжей части и перпендекулярной.

![image ingo](./img/crossing:corner-img3.png)

Данный тег необходим, поскольку в такой конфигурации транспортные средства, поворачивающие направо с сонаправленной проезжей части, пересекают пешеходный переход не под прямым углом. Стандартные средства рендеринга при таком расположении пешеходного перехода рисуют нереалистичные маневры. Чтобы рендер отрисовал достоверный маневр, необходимо явно указать на "угловое" расположение пешеходного перехода.

Также данный тег указывает, что расположение данного перехода повышает риски для пешеходов. Это может быть важно в задачах, связанных с повышением безопасности дорожного движения.

## Синтаксис

```
node.tags {
   crossing:corner: yes|no
}
```

### Допустимые значения:
- `yes` — пешеходный переход расположен в угловой зоне перекрёстка
- `no` — пешеходный переход достаточно удален от пересечения проезжих частей

## Область применения

### Целевые объекты
Тег `crossing:corner` применяется исключительно к узлам (node), которые должны быть предварительно классифицированы как `highway = crossing`. Применение данного тега к объектам иных типов является некорректным.

### Критерии применения

Тег `crossing:corner = yes` применяется в следующих случаях:

1. **Геометрическое расположение**: Пешеходный переход проходит в непосредственной близости к зоне пересечения проезжих частей, фактически соединяя противоположные углы тротуаров на перекрёстке.

2. **Угол конфликта транспортных потоков**: Автотранспортное средство въезжает в зону потенциального конфликта с пешеходным потоком под острым углом, что характерно для правоповоротного движения в угловых зонах перекрёстков.

| crossing:corner = yes | crossing:corner = no | 
| :--------------------- | :-------------------- |
| ![image info](./img/crossing:corner-img5.png) | ![image info](./img/crossing:corner-img6.png) | 
| При повороте направо | Конфликт автомобилей и пешеходов под углом примерно 90° | 

На следующем примере очевидно отражена необходимость указывать угловой пешеходный переход. При значении тега "no" траектории автомобилей становятся недостоверными.

| crossing:corner = yes | crossing:corner = no | 
| :--------------------- | :-------------------- |
| ![image info](./img/crossing:corner-img3.png) | ![image info](./img/crossing:corner-img4.png) | 
| Форма пересечения "гладкая", скругление угла перекрестка отражается с правильной кривизной, траектория автомобиля пересекает траекторию пешехода под острым углом, что соответствует реальным маршрутам | Углы перекрёстка неправдоподобно резкие, автомобили поворачивают нереалистично, стремясь пересечься с траекторией пешеходов под прямым углом, хотя в действительности это не так | 


### Тег не применяется в следующих конфигурациях

1. **Стандартные пешеходные переходы**: Переходы, расположенные на прямых участках дорог вне зон перекрёстков.

2. **Переходы с прямоугольным конфликтом**: Пешеходные переходы на перекрёстках, где угол пересечения траекторий автотранспорта и пешеходов составляет приблизительно 90 градусов.

3. **Удалённые от угла переходы**: Переходы, расположенные на значительном расстоянии от непосредственной зоны пересечения проезжих частей.

## Техническая мотивация

Тег `crossing:corner` указывает "угловые" пешеходные переходы в отличии от остальных для целей:

- **Навигационных систем**: Обеспечение более точной маршрутизации и предупреждений о специфических условиях движения.
- **Систем визуализации**: Корректное отображение геометрии перекрёстков в картографических приложениях.
- **Анализа безопасности движения**: Идентификация зон повышенного риска конфликтных ситуаций.

## Интеграция с системами рендеринга

### Параметры отображения в OSMPIE

В системе рендеринга OSMPIE все пересечения пешеходных и автотранспортных путей классифицируются как соединения типа `junction: controlled|uncontrolled` с присвоением соответствующего радиуса зоны конфликта.

**Параметры по умолчанию:**
- Радиус зоны конфликта для пешеходных переходов: 3 метра
- Расчётная ширина стандартного пешеходного перехода: 4 метра
- Дополнительная зона безопасности: по 1 метру с каждой стороны
- Общая ширина зоны конфликта: 6 метров

Данные параметры могут быть модифицированы посредством применения дополнительных тегов `width` и `junction:radius`.

## Практические преимущества применения

1. **Повышенная точность картографического отображения**: Более реалистичное представление геометрии перекрёстков.

2. **Улучшенная навигация**: Точная информация о характере пешеходных переходов для пользователей навигационных систем.

3. **Оптимизация планирования маршрутов**: Учёт специфики угловых переходов при построении пешеходных маршрутов.

4. **Анализ транспортных потоков**: Возможность детального моделирования взаимодействия различных категорий участников движения.

## Рекомендации по применению

Для корректного применения тега `crossing:corner` рекомендуется:

1. **Детальный анализ местности**: Тщательное изучение геометрических характеристик пешеходного перехода и его расположения относительно зоны пересечения проезжих частей.

2. **Оценка углов конфликта**: Определение характерных углов пересечения траекторий движения автотранспорта и пешеходов.

3. **Консистентность маркировки**: Обеспечение единообразного подхода к классификации аналогичных объектов в пределах картографируемой территории.

4. **Верификация данных**: Проверка корректности применения тега посредством визуального анализа результатов рендеринга.

## Заключение

Тег `crossing:corner` представляет собой важный инструмент для повышения точности и детализации картографических данных OpenStreetMap в части описания пешеходной инфраструктуры. Корректное применение данного тега способствует созданию более точных и функционально полезных картографических продуктов, что особенно важно для систем навигации, анализа транспортных потоков и обеспечения безопасности дорожного движения.

## Рекомендуемые статьи

- [junction:radius](./node.tags.junction:radius.md)
- [junction:cluster:radius](./node.tags.junction:cluster:radius.md)
- [О сходстве width и junction:radius](./junciotn:radius.vs.width.md)
